<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>éš±è—å½©è›‹ç¯‡ï½œåœ–æ›¸é¤¨ç„¡é™åŸå†’éšª</title>
  <meta name="theme-color" content="#ffffff" />
  <style>
    :root{
      --bg:#f8fafc;
      --text:#0f172a;
      --muted:#64748b;
      --panel:#ffffff;
      --line:#e5e7eb;
      --brand:#2563eb;
      --brand-2:#22c55e;
      --radius:16px;
      --shadow:0 10px 25px rgba(15,23,42,.08);
      --ring:rgba(37,99,235,.25);
      --vh:1vh;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;
      color:var(--text);
      background:var(--bg);
      display:grid;
      grid-template-rows:auto auto 1fr auto;
      min-height:100vh;
    }
    header{padding:20px 16px 4px;}
    header h1{
      margin:0;
      font-size:clamp(20px,4.2vw,28px);
      font-weight:800;
    }
    .player-info{
      margin-top:6px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      flex-wrap:wrap;
      gap:12px;
    }
    .player-info span{
      white-space:nowrap;
    }
    .progress-wrap{padding:8px 16px 14px;}
    .steps{
      display:grid;
      grid-template-columns:repeat(6,1fr);
      gap:8px;
      margin-bottom:10px;
    }
    .step{
      display:grid;
      place-items:center;
      gap:6px;
      color:var(--muted);
      font-size:11px;
    }
    .step .dot{
      width:28px;
      height:28px;
      border-radius:999px;
      display:grid;
      place-items:center;
      font-weight:800;
      background:#fff;
      border:1px solid var(--line);
      box-shadow:0 0 0 0 var(--ring);
      transition:.18s;
    }
    .step.active .dot{
      background:linear-gradient(180deg,var(--brand),#60a5fa);
      color:#fff;
      border-color:transparent;
      box-shadow:0 0 0 6px var(--ring);
    }
    .bar{
      width:100%;
      height:8px;
      background:#e5e7eb;
      border-radius:999px;
      overflow:hidden;
    }
    .bar>i{
      display:block;
      height:100%;
      width:var(--p,0%);
      background:linear-gradient(90deg,var(--brand),var(--brand-2));
      transition:width .35s ease;
    }
    main{
      padding:16px;
      display:grid;
      gap:20px;
    }
    section{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:20px;
    }

    .egg-text{
      font-size:15px;
      line-height:1.8;
      margin-bottom:12px;
    }
    .egg-text strong{
      font-weight:800;
    }
    .egg-image-wrap{
      margin:20px auto;
      max-width:420px;
      text-align:center;
    }
    .egg-image-wrap img{
      width:100%;
      height:auto;
      border-radius:16px;
      box-shadow:0 8px 20px rgba(0,0,0,.18);
    }
    .egg-note{
      font-size:13px;
      color:var(--muted);
      margin-top:8px;
    }

    /* åº•éƒ¨å°è¦½æŒ‰éˆ•å®¹å™¨ */
    .nav-buttons{
      margin:0 16px 16px;
      display:flex;
      justify-content:space-between;
      gap:12px;
    }
  </style>
</head>
<body>
  <header>
    <h1>éš±è—å½©è›‹ç¯‡</h1>
    <div class="player-info">
      <span id="playerSid">å­¸è™Ÿï¼šâ€”â€”</span>
      <span id="playerName">å§“åï¼šâ€”â€”</span>
    </div>
  </header>

  <section class="progress-wrap" aria-label="ä»»å‹™é€²åº¦">
    <div class="steps" id="steps">
      <div class="step" data-step="1"><div class="dot">1</div>é¦–é </div>
      <div class="step active" data-step="2"><div class="dot">2</div>å¤§åœ°éŠæˆ²</div>
      <div class="step" data-step="3"><div class="dot">3</div>ä»»å‹™äºŒ</div>
      <div class="step" data-step="4"><div class="dot">4</div>ä»»å‹™ä¸‰</div>
      <div class="step" data-step="5"><div class="dot">5</div>å·¥å•†</div>
      <div class="step" data-step="6"><div class="dot">6</div>å®Œæˆ</div>
    </div>
    <div class="bar"><i id="bar"></i></div>
  </section>

  <main>
    <section>
      <h2>ï¼Ÿï¼Ÿ?</h2>
      <h2>æ²’æƒ³åˆ°ä½ å€‘â€¦â€¦</h2>
      <p class="egg-text">
        <strong>ã€Œ...é‚„ä»¥ç‚ºæ˜¯åŸæœ¬çš„æ¢—åœ–å—?...ã€</strong>
      </p>
      <p class="egg-text">
        <strong>ã€Œå¯¦åœ¨å¤ªå°çœ‹æˆ‘äº†....å“¼å“¼.....ã€</strong>
      </p>

      <div class="egg-image-wrap">
        <!-- åœ–ç‰‡è·¯å¾‘ï¼šlibtest2\icon\Universal\Easter Egg.jpg -->
        <img src="../icon/Universal/Easter%20Egg.jpg" alt="Easter Egg" />
        <div class="egg-note">è£½ä½œè€…çš„è‡‰å°±å¦‚åŒæ¢—åœ–ä¸€æ¨£ (?)</div>
      </div>
      </p>
      <p class="egg-text">
        ã€Œå¾ŒçºŒçš„éŠæˆ²å…§å®¹è£½ä½œè€…æœƒé™¸çºŒæ›´æ–°ã€
      </p>
      <p class="egg-text">
        ã€Œè‹¥æœ‰æƒ³è¦æä¾›æ„è¦‹æˆ–æ˜¯å‡ºç¾ç•°å¸¸ï¼Œæ­¡è¿å‘ŠçŸ¥ã€
      </p>
      <p class="egg-text">
        <strong>ã€Œæ„Ÿè¬æ”¯æŒ!!ã€</strong>
      </p>
    </section>
  </main>

  <script>
    // ===== é€²åº¦æ¢ï¼ˆé€™è£¡ä¸€æ¨£æŠŠç›®å‰è¦–ç‚ºç¬¬ 2 æ­¥ï¼šä»»å‹™ä¸€ / å½©è›‹ï¼‰ =====
    const TOTAL_STEPS = 6, CURRENT_STEP = 1;
    const steps = document.querySelectorAll('.step');
    const bar = document.getElementById('bar');
    steps.forEach((el,i)=>{
      el.classList.remove('active');
      if(i === CURRENT_STEP) el.classList.add('active');
    });
    const percent = Math.round((CURRENT_STEP/(TOTAL_STEPS-1))*100);
    bar.style.setProperty('--p', percent+'%');
    bar.parentElement.setAttribute('aria-valuenow', String(percent));

    // ===== 100vh ä¿®æ­£ï¼ˆæ‰‹æ©Ÿï¼‰ =====
    function setVh(){
      document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');
    }
    setVh();
    window.addEventListener('resize', setVh);

    // ===== é¡¯ç¤ºå­¸è™Ÿ / å§“å =====
    (function(){
      const sid  = localStorage.getItem('player_sid')  || localStorage.getItem('home_sid')  || '';
      const name = localStorage.getItem('player_name') || localStorage.getItem('home_name') || '';
      const sidEl  = document.getElementById('playerSid');
      const nameEl = document.getElementById('playerName');
      if(sidEl){
        sidEl.textContent = 'å­¸è™Ÿï¼š' + (sid || 'æœªç™»å…¥');
      }
      if(nameEl){
        nameEl.textContent = 'å§“åï¼š' + (name || 'æœªç™»å…¥');
      }
    })();
  </script>

  <!-- ===== åº•éƒ¨å°èˆªæŒ‰éˆ• ===== -->
  <div class="nav-buttons">
    <!-- å›åˆ°ä»»å‹™ä¸€ï¼ˆä¿ç•™ localStorage é€šé—œç´€éŒ„ï¼‰ -->
    <a href="./mission1.html" style="
      flex:1;
      text-align:center;
      padding:14px 0;
      background:#e2e8f0;
      border-radius:12px;
      font-size:16px;
      font-weight:700;
      text-decoration:none;
      color:#1e293b;
      box-shadow:0 4px 10px rgba(0,0,0,.08);
    ">
      â¬… å›ä»»å‹™ä¸€
    </a>

    <!-- å›é¦–é  -->
    <a href="../index.html" style="
      flex:1;
      text-align:center;
      padding:14px 0;
      background:#2563eb;
      border-radius:12px;
      font-size:16px;
      font-weight:700;
      text-decoration:none;
      color:white;
      box-shadow:0 4px 10px rgba(0,0,0,.15);
    ">
      å›é¦–é  ğŸ 
    </a>
  </div>
</body>
</html>
